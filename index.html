<!-- index.html -->
<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø²Ù…Ø§Ù† ØªÙˆÙ‚Ù ØªÙˆÙ„ÛŒØ¯</title>
  <link rel="manifest" href="manifest.json">
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js');
    }
  </script>
</head>
<body>
  <h2>Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø²Ù…Ø§Ù† ØªÙˆÙ‚Ù ØªÙˆÙ„ÛŒØ¯</h2>
  <label>ğŸ•’ Ø³Ø§Ø¹Øª Ø´Ø±ÙˆØ¹:</label><br>
  <input type="number" id="startHour" placeholder="Ø³Ø§Ø¹Øª (Ù…Ø«Ù„Ø§Ù‹ 7)">
  <input type="number" id="startMinute" placeholder="Ø¯Ù‚ÛŒÙ‚Ù‡ (Ù…Ø«Ù„Ø§Ù‹ 30)"><br>

  <label>ğŸ•” Ø³Ø§Ø¹Øª Ù¾Ø§ÛŒØ§Ù†:</label><br>
  <input type="number" id="endHour" placeholder="Ø³Ø§Ø¹Øª (Ù…Ø«Ù„Ø§Ù‹ 12)">
  <input type="number" id="endMinute" placeholder="Ø¯Ù‚ÛŒÙ‚Ù‡ (Ù…Ø«Ù„Ø§Ù‹ 15)"><br>

  <label>â± Ø²Ù…Ø§Ù† Ø¶Ø±Ø¨ (Ø«Ø§Ù†ÛŒÙ‡):</label><br>
  <input type="number" id="cycleTime" placeholder="Ù…Ø«Ù„Ø§Ù‹ 30"><br>

  <label>ğŸ”¢ ØªØ¹Ø¯Ø§Ø¯ Ø¶Ø±Ø¨ Ø²Ø¯Ù‡ Ø´Ø¯Ù‡:</label><br>
  <input type="number" id="produced" placeholder="Ù…Ø«Ù„Ø§Ù‹ 500"><br>

  <button onclick="calculateDowntime()">Ù…Ø­Ø§Ø³Ø¨Ù‡</button>
  <div class="result" id="result"></div>

  <script>
    function calculateDowntime() {
      const startHour = parseInt(document.getElementById('startHour').value);
      const startMinute = parseInt(document.getElementById('startMinute').value);
      const endHour = parseInt(document.getElementById('endHour').value);
      const endMinute = parseInt(document.getElementById('endMinute').value);
      const cycleTime = parseFloat(document.getElementById('cycleTime').value);
      const produced = parseInt(document.getElementById('produced').value);

      const startTotalMin = startHour * 60 + startMinute;
      const endTotalMin = endHour * 60 + endMinute;
      const totalWorkTimeSec = (endTotalMin - startTotalMin) * 60;

      const expectedProduction = Math.floor(totalWorkTimeSec / cycleTime);
      const missed = expectedProduction - produced;

      let resultText = '';
      if (missed <= 0) {
        resultText = 'âœ… Ù‡ÛŒÚ† ØªÙˆÙ‚ÙÛŒ Ù†Ø¯Ø§Ø´ØªÛŒØ¯!';
      } else {
        const downtimeMin = (missed * cycleTime) / 60;
        resultText = `â³ Ø²Ù…Ø§Ù† ØªÙˆÙ‚Ù: ${downtimeMin.toFixed(2)} Ø¯Ù‚ÛŒÙ‚Ù‡`;
      }

      document.getElementById('result').innerText = resultText;
    }
  </script>
</body>
</html>
